!function(t){var e={defaults:{reloadbox:" ",loadBox:"",ctbTriggerBox:"",ctbTrigger:"a.ajax",loadErrorMessage:"THE PAGE YOU WERE LOOKING FOR COULD NOT BE FOUND.",loadErrorBacklinkText:"Back to the last page",bouncingBoxes:"",topToBottom:!1,leftToRight:!1,inEasing:"easeInQuint",outEasing:"easeInQuint",inDuration:700,outDuration:500,preloadImages:!1,direction:"",positionType:"absolute"},listenToPopState:function(e,a){t(window).off("popstate").on("popstate",function(t){var i;switch(e.direction){case"left-to-right":i="ks-ctb-box-in-l-pushstate";break;case"right-to-left":i="ks-ctb-box-in-r-pushstate";break;case"top-to-bottom":i="ks-ctb-box-in-t-pushstate";break;case"bottom-to-top":i="ks-ctb-box-in-b-pushstate";break;case"":i="ks-ctb-box-in-pushstate";break;default:return alert("Kool ctb Error: \n The defined direction "+e.direction+" does not exist."),!1}o.ctbHistoryPage(e,a,i),t.stopPropagation()})}},o={defaults:function(o,a){return psSettings=o.data("kool-ctb-window"),"undefined"==typeof psSettings?(psSettings=t.extend({},e.defaults,a),o.data("kool-ctb-window",psSettings)):psSettings=t.extend(psSettings,a),psSettings},init:function(a){var n=window.history&&history.pushState;return this.each(function(){o.defaults(t(this),a);var s=(t(psSettings.reloadbox),psSettings.ctbTriggerBox),r=psSettings.ctbTrigger,c=!0;n&&t("html").not("[data-ks-initialised]")&&(t("html").attr("data-ks-initialised","true"),e.listenToPopState(psSettings,t(s+" "+r))),i.trigger(psSettings,n,s,r,c)})},ctbHistoryPage:function(e,o,a){if(t("html").is("[data-ks-history-pushed]")){var n=location.pathname;i.ksLoadPage(e,o,n,a)}},destroy:function(e){return t(document).off("click",psSettings.ctbTriggerBox+" "+psSettings.ctbTrigger),t(this).each(function(){var e=t(this);e.removeData("kool-ctb-window")})}},a={defaults:function(o,a){return settings=o.data("kool-ctb"),"undefined"==typeof settings?(settings=t.extend({},e.defaults,a),o.data("kool-ctb",settings)):settings=t.extend(settings,a),settings},init:function(e){return this.each(function(){a.defaults(t(this),e),settings.reloadbox=t(this);var o=settings.ctbTriggerBox,n=settings.ctbTrigger,s=!1;i.trigger(settings,!0,o,n,s)})},destroy:function(e){return t(document).off("click",settings.ctbTriggerBox+" "+settings.ctbTrigger),t(this).each(function(){var e=t(this);e.removeData("kool-ctb")})}},i={trigger:function(e,o,a,n,s){function r(){var t=document.createElement("div");return t.setAttribute("ongesturestart","return;"),"function"==typeof t.ongesturestart}o&&(r()?t(document).on("touchstart",".abl",function(){window.history.back()}).off("touchstart",a+" "+n).on("touchstart",a+" "+n,function(a){a.preventDefault();var n=t(this);i.ksDefinereloadboxIn(e,n,o,s)}):t(document).on("click",".abl",function(){window.history.back()}).off("click",a+" "+n).on("click",a+" "+n,function(a){a.preventDefault();var n=t(this);i.ksDefinereloadboxIn(e,n,o,s)}))},ksDefinereloadboxIn:function(e,o,a,n){switch(e.direction){case"left-to-right":case"right-to-left":case"top-to-bottom":case"bottom-to-top":case"":if($reloadboxIn="ks-ctb-box-in",t(".ks-ctb-box-in").length)return!1;t(this);i.ksCollectLoadPageInfo(e,o,a,$reloadboxIn,n);break;default:return alert("Kool ctb Error: \n The defined direction "+e.direction+" does not exist."),!1}},ksCollectLoadPageInfo:function(e,o,a,n,s){var n,r=o.attr("href");switch(e.direction){case"left-to-right":n="ks-ctb-box-in-l";break;case"right-to-left":n="ks-ctb-box-in-r";break;case"top-to-bottom":n="ks-ctb-box-in-t";break;case"bottom-to-top":n="ks-ctb-box-in-b";break;case"":n="ks-ctb-box-in";break;default:return alert("Kool ctb Error: \n The defined direction "+e.direction+" does not exist."),!1}i.ksLoadPage(e,o,r,n,s),s&&(history.pushState({url:r},null,r),t("html").attr("data-ks-history-pushed","true"))},ksLoadPage:function(e,o,a,n,s){var r=t(e.reloadbox);""!=a?(i.ksAddreloadboxIn(e,n),t.ajax({type:"GET",url:a,data:{},beforeSend:function(){i.ksCreateLoadBox()},error:function(t,o,a){r.html('<div class= "back-link "><span>'+e.loadErrorMessage+'</span><a class="abl ajaxPageSwitchBacklink">'+e.loadErrorBacklinkText+"</a></div>")},success:function(t){e.bouncingBoxes?i.ksFadeSiblings(e,o,t,n,s):i.ksPositionAndPrepare(e,o,t,n,s)},dataType:"html"})):alert("There is no target defined! Please check the references (i.e. normally href) of the ctbTriggers.")},ksAddreloadboxIn:function(e,o){var a=t(e.reloadbox),i=a.attr("class"),n=a.prop("tagName");t(document).find(".ks-ctb-box-in").remove(),e.movereloadboxClasses?a.after("<"+n.toLowerCase()+' class="ks-ctb-box-in '+("undefined"!=typeof i?i:"")+'" id="'+o+'"></'+n.toLowerCase()+">"):a.after("<"+n.toLowerCase()+' class="ks-ctb-box-in" id="'+o+'"></'+n.toLowerCase()+">"),a.siblings(".ks-ctb-box-in").hide()},ksFadeSiblings:function(e,o,a,n,s){t(document).find(e.bouncingBoxes).animate({opacity:0},50,function(){i.ksPositionAndPrepare(e,o,a,n)})},ksPositionAndPrepare:function(e,o,a,n,s){var r=t(e.reloadbox),c=r.attr("id"),l=r.position(),d=r.width(),b=r.css("margin-left"),u=r.css("margin-left"),f=l.left+parseFloat(b);if(reloadboxRightAbsolute=l.left+parseFloat(b)+d-parseFloat(u),$reloadboxIn=t("#"+n),loadSelector=o.attr("data-ks-load-selector"),s)var g=a.match(/<\/*html\s+.*id="([^"].*)".*>/),h=a.match(/<\/*body\s+.*id="([^"].*)".*>/),p=a.match(/<\/*html\s+.*class="([^"].*)".*>/),k=a.match(/<\/*body\s+.*class="([^"].*)".*>/),m=a.match(/<\/*title>(.*)<\/title>/);if(r.addClass("ks-ctb-box-out").css({position:"absolute",top:l.top,left:f,marginLeft:0,width:d}),reloadboxInContents=void 0!=t(a).filter("#"+c).html()){if(e.loadBox)var x=t(a).filter(e.loadBox);else if(loadSelector)var x=t(a).filter(loadSelector);else var x=t(a).filter("#"+c);reloadboxInContents=x.html();var v=x.attr("class")}else{if(e.loadBox)var x=t(a).find(e.loadBox);else if(loadSelector)var x=t(a).find(loadSelector);else var x=t(a).find("#"+c);reloadboxInContents=x.html();var v=x.attr("class")}$reloadboxIn.addClass(v).css({position:e.positionType,marginLeft:0,top:l.top,left:f}).html(reloadboxInContents);var w=$reloadboxIn.find("img"),y=0;w.length&&1==e.preloadImages?w.on("load",function(){y++,y==w.length&&(t(document).trigger("ksLoadCallback"),i.ksctbContent(e,n,o,l,f,d,g,h,p,k,m,s))}):(t(document).trigger("ksLoadCallback"),i.ksctbContent(e,n,o,l,f,d,g,h,p,k,m,s))},ksctbContent:function(e,o,a,n,s,r,c,l,d,b,u,f){var g=t(e.reloadbox),h=g.attr("id"),p=t("#"+o),k=p.outerHeight(),m=(p.outerWidth(),g.outerHeight()),x=t(window).outerHeight(),v=t(window).outerWidth(),w=a.prop("hash");if(clearTimeout(loadTimer),i.ksRemoveLoadBox(),e.direction){p.css({width:r});var y,C={},T={};switch(o){case"ks-ctb-box-in-b-pushstate":case"ks-ctb-box-in-t":p.css("top",2*-k),y=3*x;break;case"ks-ctb-box-in-t-pushstate":case"ks-ctb-box-in-b":p.css("top",1.5*m),y=1.5*-m;break;case"ks-ctb-box-in-r-pushstate":case"ks-ctb-box-in-l":p.css("left",-v),y=v;break;case"ks-ctb-box-in-l-pushstate":case"ks-ctb-box-in-r":p.css("left",v),y=-v;break;default:return alert("Kool ctb Error: \n The reloadboxIn class is in an undefined format: "+o+"."),!1}switch(e.direction){case"left-to-right":case"right-to-left":var S=e.inDuration,B=e.outDuration;C={left:y},T={left:s},p.css("top",n.top),t("body").css({overflowX:"hidden",overflowY:"scroll"});break;case"top-to-bottom":case"bottom-to-top":var I=m*e.inDuration/1e3,L=I/100,S=e.inDuration+L,B=e.outDuration;T={top:n.top},C={top:y},t("body").css("overflow-y","scroll")}g.stop().show().animate(C,B,e.outEasing,function(){t(this).remove(),f&&i.ksSwitchClasses(c,l,d,b,u)}),p.stop().show().animate(T,S,e.inEasing,function(){t(this).css({display:"",left:"",marginLeft:"",position:"",top:"",width:""}).attr("id",h).removeClass("ks-ctb-box-in"),i.animationCallback(w),i.ksCheckForSiblings(e)})}else{$(".l-line").fadeIn(10),$(".l-line span").animate({width:"100%"},{queue:!1,duration:700,easing:"swing"}),setTimeout(function(){t("html, body").animate({scrollTop:0},{queue:!0,duration:150,easing:"easeInOutQuad"})},1250),t(".loader").fadeIn(10),$("figure").remove();var P=$(window).width();1056>P&&hideMenu(),contanimhide();var E=t.magnificPopup.instance;E.close(),g.delay(900).animate({opacity:0},e.outDuration,function(){t(this).remove(),f&&i.ksSwitchClasses(c,l,d,b,u),p.css({display:"",left:"",marginLeft:"",opacity:0,position:"",top:"",width:""}).animate({opacity:1},e.inDuration,function(){i.animationCallback(w),i.ksCheckForSiblings(e),t(".loader").fadeOut(10),contanimshow(),$(".l-line").fadeOut(10,function(){$(".l-line span").animate({width:"0"},10)})}).attr("id",h).removeClass("ks-ctb-box-in")})}},animationCallback:function(e){e&&t("html:not(:animated),body:not(:animated)").animate({scrollTop:t(e).position()},"normal")},ksCheckForSiblings:function(e){e.bouncingBoxes?t(document).find(e.bouncingBoxes).animate({opacity:1},1400,function(){i.ksctbCallback()}):i.ksctbCallback()},ksSwitchClasses:function(e,o,a,i,n){t("html, body").attr({"class":"",id:""}),e?t("html").attr("id",e[1]):"",o?t("body").attr("id",o[1]):"",a?t("html").addClass(a[1]):"",i?t("body").addClass(i[1]):"",n?t("title").text(n[1]):""},ksCreateLoadBox:function(){t("#ks-loading-box").length?(i.ksRemoveLoadBox(),i.ksCreateLoadBox()):loadTimer=setTimeout(function(){},10)},ksRemoveLoadBox:function(){t("#ks-loading-box").fadeOut("1000").remove()},ksctbCallback:function(){t("body").css({overflowX:"auto"}),t(document).trigger("ksctbCallback")}};t.coretemp=function(e){return o[e]?o[e].apply(t(window),Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.coretemp"):o.init.apply(t(window),arguments,!1)},t.fn.coretemp=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.coretemp"):a.init.apply(this,arguments)}}(jQuery);